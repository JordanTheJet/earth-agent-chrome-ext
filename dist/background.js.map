{"version":3,"file":"background.js","mappings":";;;;;;AAMA,8BAA8B;AAC9B,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;IAChD,gEAAgE;IAChE,IAAI,GAAG,CAAC,GAAG,EAAE,UAAU,CAAC,sCAAsC,CAAC,EAAE,CAAC;QAChE,sBAAsB;QACtB,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QACxD,MAAM,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC;YAChC,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,gBAAgB;SACvB,CAAC,CAAC;IACL,CAAC;SAAM,CAAC;QACN,6DAA6D;QAC7D,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACvB,GAAG,EAAE,sCAAsC;SAC5C,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,oDAAoD;AACpD,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAgB,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE;IAC9E,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,OAAO,CAAC,CAAC;IAE5D,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;QACrB,KAAK,MAAM;YACT,wBAAwB;YACxB,YAAY,CAAC,EAAE,MAAM,EAAE,aAAa,EAAE,CAAC,CAAC;YACxC,MAAM;QAER;YACE,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;YACpD,YAAY,CAAC,EAAE,KAAK,EAAE,sBAAsB,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,iEAAiE;IACjE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC,CAAC;AAEH,oCAAoC;AACpC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,EAAE;IAC5C,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE,CAAC;QAC9B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QAEpC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAgB,EAAE,EAAE;YAC9C,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,OAAO,CAAC,CAAC;YAC1D,2CAA2C;QAC7C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC,CAAC","sources":["webpack://earth-agent-ai-sdk/./src/background/index.ts"],"sourcesContent":["// Types for messages between components\ninterface Message {\n  type: string;\n  payload?: any;\n}\n\n// Handle extension icon click\nchrome.action.onClicked.addListener(async (tab) => {\n  // Only open side panel if we're on the Earth Engine Code Editor\n  if (tab.url?.startsWith('https://code.earthengine.google.com/')) {\n    // Open the side panel\n    await chrome.sidePanel.open({ windowId: tab.windowId });\n    await chrome.sidePanel.setOptions({\n      enabled: true,\n      path: 'sidepanel.html'\n    });\n  } else {\n    // If not on Earth Engine, create a new tab with Earth Engine\n    await chrome.tabs.create({\n      url: 'https://code.earthengine.google.com/'\n    });\n  }\n});\n\n// Handle messages from content script or side panel\nchrome.runtime.onMessage.addListener((message: Message, sender, sendResponse) => {\n  console.log('Background script received message:', message);\n\n  switch (message.type) {\n    case 'INIT':\n      // Handle initialization\n      sendResponse({ status: 'initialized' });\n      break;\n    \n    default:\n      console.warn('Unknown message type:', message.type);\n      sendResponse({ error: 'Unknown message type' });\n  }\n\n  // Return true to indicate we will send a response asynchronously\n  return true;\n});\n\n// Listen for side panel connections\nchrome.runtime.onConnect.addListener((port) => {\n  if (port.name === 'sidepanel') {\n    console.log('Side panel connected');\n    \n    port.onMessage.addListener((message: Message) => {\n      console.log('Received message from side panel:', message);\n      // Handle side panel specific messages here\n    });\n\n    port.onDisconnect.addListener(() => {\n      console.log('Side panel disconnected');\n    });\n  }\n}); "],"names":[],"sourceRoot":""}