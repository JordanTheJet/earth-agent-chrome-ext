{"version":3,"file":"content.js","mappings":"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","sources":["webpack://earth-agent-ai-sdk/webpack/bootstrap","webpack://earth-agent-ai-sdk/webpack/runtime/make namespace object","webpack://earth-agent-ai-sdk/./src/content/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Types\ninterface Message {\n  type: string;\n  payload?: any;\n  code?: string;\n  coordinates?: {lat: number, lng: number};\n  scriptId?: string;\n  content?: string;\n}\n\n// Add import for interfaces if needed\nimport { GetMapLayersResponse, MapLayer } from '@/lib/tools/earth-engine/getMapLayers';\n\n// Initialize content script immediately to catch messages early\nconsole.log('Earth Engine AI Assistant content script loading at:', new Date().toISOString());\n\n// Track connection status with background script\nlet backgroundConnectionVerified = false;\nlet notificationRetries = 0;\nconst MAX_NOTIFICATION_RETRIES = 5;\n\n// Track the state of the content script\nlet backgroundConnected = false;\nlet connectionRetries = 0;\nconst MAX_CONNECTION_RETRIES = 5;\nconst CONNECTION_RETRY_DELAYS = [500, 1000, 2000, 4000, 8000]; // Exponential backoff\n\n// Notify background script that content script is loaded\nfunction notifyBackgroundScript() {\n  console.log('Notifying background script that content script is loaded...');\n  \n  chrome.runtime.sendMessage({ \n    type: 'CONTENT_SCRIPT_LOADED', \n    url: window.location.href,\n    timestamp: Date.now() \n  }, (response) => {\n    if (chrome.runtime.lastError) {\n      console.warn('Error notifying background script:', chrome.runtime.lastError);\n      \n      // Retry with exponential backoff if we haven't reached max retries\n      if (notificationRetries < MAX_NOTIFICATION_RETRIES) {\n        notificationRetries++;\n        const delay = Math.pow(2, notificationRetries) * 500; // Exponential backoff\n        console.log(`Retrying notification in ${delay}ms (attempt ${notificationRetries}/${MAX_NOTIFICATION_RETRIES})...`);\n        setTimeout(notifyBackgroundScript, delay);\n      }\n      return;\n    }\n    \n    backgroundConnectionVerified = true;\n    notificationRetries = 0;\n    console.log('Content script loaded notification response:', response);\n  });\n}\n\n// Track ping attempts to avoid infinite loops\nlet pingAttempts = 0;\nconst MAX_PING_ATTEMPTS = 3;\n\n// Respond to ping checks from background script\nfunction setupPingResponse() {\n  // Create a specific handler for PING messages to increase reliability\n  chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message && message.type === 'PING') {\n      console.log('Received PING from background script, responding...');\n      sendResponse({ \n        success: true, \n        message: 'Content script is active', \n        timestamp: Date.now(),\n        url: window.location.href\n      });\n      // Reset ping attempts when a successful ping occurs\n      pingAttempts = 0;\n      backgroundConnectionVerified = true;\n      return true;\n    }\n  });\n}\n\n// Update the message listener to handle the new message type\n  chrome.runtime.onMessage.addListener((message: Message, sender, sendResponse) => {\n  if (!message || !message.type) {\n    console.warn('Received invalid message:', message);\n    sendResponse({ success: false, error: 'Invalid message format' });\n    return false;\n  }\n  \n  console.log(`Content script received message: ${message.type}`);\n  \n  try {\n    switch (message.type) {\n      case 'PING':\n        sendResponse({ success: true, message: 'Earth Engine content script is active' });\n        return false;\n        \n      case 'INIT':\n        sendResponse({ success: true, message: 'Earth Engine content script is active' });\n        return false;\n        \n      case 'RUN_CODE':\n        handleRunCode(message.code || '', sendResponse);\n        return true; // Will respond asynchronously\n        \n      case 'CHECK_CONSOLE':\n        handleCheckConsole(sendResponse);\n        return true; // Will respond asynchronously\n        \n      case 'INSPECT_MAP':\n        handleInspectMap(message.coordinates, sendResponse);\n        return true; // Will respond asynchronously\n        \n      case 'GET_TASKS':\n        handleGetTasks(sendResponse);\n        return true; // Will respond asynchronously\n        \n      case 'EDIT_SCRIPT':\n        handleEditScript(message, sendResponse);\n        return true; // Will respond asynchronously\n        \n      case 'GET_MAP_LAYERS':\n        handleGetMapLayers(sendResponse);\n        return true; // Will respond asynchronously\n\n      case 'GET_ELEMENT_BY_REF_ID':\n        if (message.payload && message.payload.refId) {\n          handleGetElementByRefId(message.payload.refId, sendResponse);\n        } else {\n          sendResponse({ success: false, error: 'refId not provided in payload for GET_ELEMENT_BY_REF_ID' });\n        }\n        return true; // Will respond asynchronously\n\n      case 'CLICK_BY_COORDINATES':\n        if (message.payload && typeof message.payload.x === 'number' && typeof message.payload.y === 'number') {\n          handleExecuteClickByCoordinates(message.payload.x, message.payload.y, sendResponse);\n        } else {\n          sendResponse({ success: false, error: 'Invalid payload for CLICK_BY_COORDINATES: x and y are required.' });\n        }\n        return true; // Will respond asynchronously\n\n      default:\n        console.warn(`Unknown message type: ${message.type}`);\n        sendResponse({ success: false, error: `Unknown message type: ${message.type}` });\n        return false;\n    }\n  } catch (error) {\n    console.error(`Error handling message (${message.type}):`, error);\n    sendResponse({ \n      success: false, \n      error: `Error in content script: ${error instanceof Error ? error.message : String(error)}` \n    });\n    return false;\n  }\n});\n\n// Also initialize when DOM content is loaded to make sure we have access to the page elements\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    setupPingResponse();\n    notifyBackgroundScript();\n  });\n} else {\n  setupPingResponse();\n  notifyBackgroundScript();\n}\n\n// Also set up a periodic self-check to ensure registration\nfunction periodicSelfCheck() {\n    if (pingAttempts < MAX_PING_ATTEMPTS || !backgroundConnectionVerified) {\n        pingAttempts++;\n        // Send a self-ping to the background script\n        chrome.runtime.sendMessage({\n            type: 'CONTENT_SCRIPT_HEARTBEAT',\n            url: window.location.href,\n            timestamp: Date.now()\n        }, (response) => {\n            // CRITICAL: Check chrome.runtime.lastError immediately.\n            if (chrome.runtime.lastError) {\n                console.warn('Error in periodicSelfCheck (heartbeat) response:', chrome.runtime.lastError.message);\n                // If context is invalidated, further actions are futile and will cause errors.\n                // Stop the periodic check or other dependent operations.\n                if (chrome.runtime.lastError.message?.includes(\"Extension context invalidated\")) {\n                    console.error(\"Content script context invalidated during heartbeat. Halting further operations dependent on this context.\");\n                    // If periodicSelfCheck is called by setInterval, clear it here.\n                    // For instance, if an intervalId is stored: clearInterval(intervalId);\n                    // For now, we'll just prevent further processing in this callback.\n                    backgroundConnectionVerified = false; // Mark as not verified\n                }\n                return; // Exit early if there's an error\n            }\n\n            // If no error, proceed with response handling\n            backgroundConnectionVerified = true;\n            // Reset pingAttempts on successful heartbeat response as connection is alive\n            pingAttempts = 0; \n            console.log('Periodic self-check (heartbeat) response:', response);\n        });\n    } else if (backgroundConnectionVerified && pingAttempts >= MAX_PING_ATTEMPTS) {\n      // This case implies the connection was verified, but self-check stopped due to MAX_PING_ATTEMPTS.\n      // It's good to log this or decide if pingAttempts should be reset to allow future re-verification.\n      // For now, we can reset pingAttempts to allow the check to resume if the background becomes responsive again.\n      console.log('Max ping attempts reached for self-check, but background was previously verified. Resetting attempts for future checks.');\n      pingAttempts = 0;\n    } else if (!backgroundConnectionVerified && pingAttempts >= MAX_PING_ATTEMPTS) {\n        console.warn(`Max ping attempts (${MAX_PING_ATTEMPTS}) reached for self-check and background connection still not verified.`);\n    }\n}\n\n// Run self-checks periodically\nsetInterval(periodicSelfCheck, 10000);\n\n/**\n * Handles the RUN_CODE message by clicking the run button in the Earth Engine editor\n */\nasync function handleRunCode(code: string, sendResponse: (response: any) => void) {\n  try {\n    console.log('Handling RUN_CODE message, clicking run button');\n    \n    // Find the run button by its class and title attributes\n    // GEE editor has a button with class \"goog-button run-button\" and title \"Run script (Ctrl+Enter)\"\n    const runButton = document.querySelector('button.goog-button.run-button[title=\"Run script (Ctrl+Enter)\"]');\n    \n    if (!runButton) {\n      // Fallback to alternative selectors if the specific one fails\n      const fallbackButton = document.querySelector('.run-button') || \n                            document.querySelector('button[title*=\"Run script\"]') ||\n                            document.querySelector('button.goog-button[value=\"Run\"]');\n      \n      if (!fallbackButton) {\n        console.error('Run button not found');\n        sendResponse({\n          success: false,\n          error: 'Run button not found in the Google Earth Engine editor'\n        });\n        return;\n      }\n      \n      console.log('Using fallback run button selector');\n      (fallbackButton as HTMLElement).click();\n    } else {\n      // Click the run button\n      (runButton as HTMLElement).click();\n    }\n    \n    // Wait for a short time to allow the button state to change\n    setTimeout(() => {\n      // We successfully clicked the button\n      sendResponse({\n        success: true,\n        result: 'Run button clicked successfully'\n      });\n    }, 500);\n  } catch (error) {\n    console.error('Error executing Earth Engine code:', error);\n    sendResponse({\n      success: false,\n      error: `Error executing Earth Engine code: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Handles checking the Earth Engine console for errors\n */\nfunction handleCheckConsole(sendResponse: (response: any) => void) {\n  try {\n    // Find console output element\n    const consoleOutput = document.querySelector('.console-output');\n    \n    if (!consoleOutput) {\n      sendResponse({\n        success: true,\n        errors: []\n      });\n      return;\n    }\n    \n    // Get error elements from the console\n    const errorElements = consoleOutput.querySelectorAll('.error, .warning');\n    const errors = Array.from(errorElements).map(el => ({\n      type: el.classList.contains('error') ? 'error' : 'warning',\n      message: el.textContent || 'Unknown error'\n    }));\n    \n    sendResponse({\n      success: true,\n      errors\n    });\n  } catch (error) {\n    sendResponse({\n      success: false,\n      error: `Error checking console: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Handles inspecting the map at specific coordinates\n */\nfunction handleInspectMap(coordinates: {lat: number, lng: number} | undefined, sendResponse: (response: any) => void) {\n  try {\n    if (!coordinates) {\n      sendResponse({\n        success: false,\n        error: 'No coordinates provided'\n      });\n      return;\n    }\n    \n    // This is a placeholder - actual implementation would need to interact with Earth Engine map\n    // and might require injecting code to use the Map.onClick() or similar Earth Engine API\n    sendResponse({\n      success: true,\n      data: {\n        location: coordinates,\n        message: 'Map inspection not fully implemented yet. This is a placeholder response.'\n      }\n    });\n  } catch (error) {\n    sendResponse({\n      success: false,\n      error: `Error inspecting map: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Handles getting Earth Engine tasks\n */\nfunction handleGetTasks(sendResponse: (response: any) => void) {\n  try {\n    // This is a placeholder - actual implementation would need to access the Earth Engine \n    // task list from the UI or by executing code in the Earth Engine context\n    sendResponse({\n      success: true,\n      tasks: [],\n      message: 'Task retrieval not fully implemented yet. This is a placeholder response.'\n    });\n  } catch (error) {\n    sendResponse({\n      success: false,\n      error: `Error getting tasks: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n// Notify the background script that the content script is loaded\nfunction notifyBackgroundScriptLoaded() {\n  try {\n    console.log('Earth Engine Agent content script loaded, notifying background script...');\n    chrome.runtime.sendMessage({ type: 'CONTENT_SCRIPT_LOADED' }, (response) => {\n      if (chrome.runtime.lastError) {\n        console.error('Error notifying background script:', chrome.runtime.lastError);\n        \n        // Retry with exponential backoff if we haven't exceeded max retries\n        if (connectionRetries < MAX_CONNECTION_RETRIES) {\n          const delay = CONNECTION_RETRY_DELAYS[connectionRetries] || 10000; // Default to 10s for any retry beyond our array\n          connectionRetries++;\n          console.log(`Retrying connection to background script in ${delay}ms (attempt ${connectionRetries}/${MAX_CONNECTION_RETRIES})...`);\n          \n          setTimeout(notifyBackgroundScriptLoaded, delay);\n        } else {\n          console.error(`Failed to connect to background script after ${MAX_CONNECTION_RETRIES} attempts`);\n        }\n        return;\n      }\n      \n      backgroundConnected = true;\n      console.log('Background script notified of content script load.');\n    });\n  } catch (error) {\n    console.error('Failed to notify background script:', error);\n  }\n}\n\n// Initialize content script\nfunction initialize() {\n  notifyBackgroundScriptLoaded();\n}\n\n/**\n * Handles editing an Earth Engine script\n */\nasync function handleEditScript(message: any, sendResponse: (response: any) => void) {\n  console.log('Handling edit script message:', message);\n  \n  const scriptId = message.scriptId;\n  const content = message.content || '';\n  \n  if (!scriptId || !content) {\n    sendResponse({\n      success: false,\n      error: 'Script ID and content are required'\n    });\n    return;\n  }\n  \n  try {\n    // Create a log to track which method succeeded\n    let successMethod = '';\n    let editorUpdated = false;\n    \n    console.log('Attempting to update Earth Engine editor content...');\n    \n    // METHOD 1: Direct Ace editor access - try multiple paths\n    try {\n      console.log('METHOD 1: Attempting direct Ace editor access...');\n      \n      // Try different potential paths to find the Ace editor instance\n      const editorPaths = [\n        // Try standard AceEditor global\n        () => (window as any).ace,\n        \n        // Try to find the editor in the page scope\n        () => Array.from(document.querySelectorAll('.ace_editor')).map(\n          el => (el as any).__ace_editor__ || (el as any).env?.editor\n        ).find(editor => editor),\n        \n        // Try from CodeMirror if it's used instead\n        () => {\n          const cmElements = document.querySelectorAll('.CodeMirror');\n          if (cmElements.length > 0) {\n            return Array.from(cmElements).map(el => (el as any).CodeMirror).find(cm => cm);\n          }\n          return null;\n        },\n        \n        // Try to find editor in Google Earth Engine specific objects\n        () => (window as any).ee?.Editor?.ace,\n        () => (window as any).ee?.data?.aceEditor,\n        () => (window as any).code?.editor?.aceEditor,\n        \n        // Last resort - try to scan the entire window object for anything that looks like an editor\n        () => {\n          const foundEditors = [];\n          for (const key in window) {\n            try {\n              const obj = (window as any)[key];\n              if (obj && typeof obj === 'object' && \n                  (obj.setContent || obj.setValue || obj.getSession || obj.edit)) {\n                foundEditors.push(obj);\n              }\n            } catch (e) {\n              // Ignore errors from security restrictions\n            }\n          }\n          return foundEditors[0]; // Return the first one we find\n        }\n      ];\n      \n      // Try each path until we find an editor\n      let editor = null;\n      for (const getEditor of editorPaths) {\n        try {\n          const potentialEditor = getEditor();\n          if (potentialEditor) {\n            editor = potentialEditor;\n            console.log('Found potential editor:', editor);\n            break;\n          }\n        } catch (e) {\n          // Continue to the next method\n          console.log('Editor path attempt failed:', e);\n        }\n      }\n      \n      if (editor) {\n        // Try different methods to update content based on what API the editor exposes\n        const updateMethods = [\n          // Standard Ace editor API\n          () => {\n            if (editor.getSession && editor.setValue) {\n              editor.setValue(content, -1); // -1 to place cursor at start\n              return true;\n            }\n            return false;\n          },\n          \n          // Some editors have a setContent method\n          () => {\n            if (editor.setContent) {\n              editor.setContent(content);\n              return true;\n            }\n            return false;\n          },\n          \n          // CodeMirror API\n          () => {\n            if (editor.setValue) {\n              editor.setValue(content);\n              return true;\n            }\n            return false;\n          },\n          \n          // Nested session access\n          () => {\n            if (editor.getSession && editor.getSession().setValue) {\n              editor.getSession().setValue(content);\n              return true;\n            }\n            return false;\n          }\n        ];\n        \n        for (const update of updateMethods) {\n          try {\n            if (update()) {\n              editorUpdated = true;\n              successMethod = 'Direct editor API';\n              console.log('Successfully updated editor content via direct API');\n              break;\n            }\n          } catch (e) {\n            // Try the next method\n            console.log('Editor update method failed:', e);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error accessing Ace editor directly:', error);\n    }\n    \n    // METHOD 2: DOM Manipulation - Bypass CSP restrictions\n    if (!editorUpdated) {\n      try {\n        console.log('METHOD 2: Attempting DOM manipulation...');\n        \n        // Find the pre elements in the editor\n        const editorPres = document.querySelectorAll('.ace_editor pre');\n        if (editorPres.length > 0) {\n          console.log(`Found ${editorPres.length} pre elements in the editor`);\n          \n          // Create a text node with our content\n          const textNode = document.createTextNode(content);\n          \n          // Clear and update the first pre element (main content area)\n          const mainPre = editorPres[0];\n          mainPre.textContent = '';\n          mainPre.appendChild(textNode);\n          \n          // Dispatch input and change events to trigger editor update\n          mainPre.dispatchEvent(new Event('input', { bubbles: true }));\n          mainPre.dispatchEvent(new Event('change', { bubbles: true }));\n          \n          // Find the textarea that may be connected to the editor\n          const textareas = document.querySelectorAll('textarea');\n          for (const textarea of Array.from(textareas)) {\n            try {\n              textarea.value = content;\n              textarea.dispatchEvent(new Event('input', { bubbles: true }));\n              textarea.dispatchEvent(new Event('change', { bubbles: true }));\n            } catch (e) {\n              console.log('Error updating textarea:', e);\n            }\n          }\n          \n          editorUpdated = true;\n          successMethod = 'DOM manipulation';\n          console.log('Successfully updated editor content via DOM manipulation');\n        } else {\n          console.log('No pre elements found in the editor');\n        }\n      } catch (error) {\n        console.error('Error using DOM manipulation to update editor:', error);\n      }\n    }\n    \n    // METHOD 3: Find and update the hidden textarea that Ace uses\n    if (!editorUpdated) {\n      try {\n        console.log('METHOD 3: Searching for hidden textarea...');\n        \n        // Look for textareas that might be connected to the editor\n        const textareas = document.querySelectorAll('textarea');\n        console.log(`Found ${textareas.length} textareas in the document`);\n        \n        let textareaUpdated = false;\n        \n        for (const textarea of Array.from(textareas)) {\n          try {\n            // Check if this might be an editor textarea (hidden ones are often used by Ace)\n            if (textarea.classList.contains('ace_text-input') || \n                textarea.style.position === 'absolute' || \n                textarea.style.opacity === '0' ||\n                textarea.style.height === '1px' ||\n                textarea.parentElement?.classList.contains('ace_editor')) {\n              \n              console.log('Found potential editor textarea:', textarea);\n              \n              // Set the value\n              textarea.value = content;\n              \n              // Trigger input events\n              textarea.dispatchEvent(new Event('input', { bubbles: true }));\n              textarea.dispatchEvent(new Event('change', { bubbles: true }));\n              \n              // Try to trigger a keypress event with Ctrl+A and then paste content\n              textarea.dispatchEvent(new KeyboardEvent('keydown', { key: 'a', ctrlKey: true, bubbles: true }));\n              textarea.dispatchEvent(new ClipboardEvent('paste', { \n                bubbles: true,\n                clipboardData: new DataTransfer()\n              }));\n              \n              textareaUpdated = true;\n              console.log('Updated textarea:', textarea);\n            }\n          } catch (e) {\n            console.log('Error updating a textarea:', e);\n          }\n        }\n        \n        if (textareaUpdated) {\n          editorUpdated = true;\n          successMethod = 'Hidden textarea';\n          console.log('Successfully updated editor content via hidden textarea');\n        }\n      } catch (error) {\n        console.error('Error updating hidden textarea:', error);\n      }\n    }\n    \n    // If all methods failed, return error\n    if (!editorUpdated) {\n      console.error('All methods for updating editor content failed');\n      sendResponse({ \n        success: false, \n        error: 'Failed to update editor content. Could not access the Earth Engine Code Editor. Try manually updating the code.'\n      });\n      return;\n    }\n    \n    // Return success if any method worked\n    console.log(`Editor content updated successfully using method: ${successMethod}`);\n    sendResponse({\n      success: true,\n      method: successMethod,\n      message: `Editor content updated successfully using ${successMethod}`\n    });\n    \n  } catch (error) {\n    console.error('Error editing Earth Engine script:', error);\n    sendResponse({ \n      success: false, \n      error: `Error editing Earth Engine script: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Handles getting information about Earth Engine map layers\n */\nasync function handleGetMapLayers(sendResponse: (response: GetMapLayersResponse) => void) {\n  try {\n    console.log('Handling GET_MAP_LAYERS message');\n    \n    // Look for the layers panel which typically contains layer information\n    const layersPanel = document.querySelector('.layers-card');\n    if (!layersPanel) {\n      console.log('Layers panel not found');\n      sendResponse({\n        success: true,\n        layers: []\n      });\n      return;\n    }\n    \n    // Find all layer items in the panel\n    const layerItems = layersPanel.querySelectorAll('.layer-card');\n    const layers: MapLayer[] = [];\n    \n    layerItems.forEach((item, index) => {\n      try {\n        // Extract layer ID - usually in the item ID or data attributes\n        const id = item.id || `layer-${index}`;\n        \n        // Try to find the layer name\n        const nameElement = item.querySelector('.layer-title, .layer-name');\n        const name = nameElement ? nameElement.textContent?.trim() || `Layer ${index+1}` : `Layer ${index+1}`;\n        \n        // Check visibility - usually there's an eye icon or visibility checkbox\n        const visibilityEl = item.querySelector('.visibility-toggle, input[type=\"checkbox\"]');\n        const visibleAttr = visibilityEl?.getAttribute('aria-checked') || visibilityEl?.getAttribute('checked');\n        const hiddenClass = item.classList.contains('hidden') || item.classList.contains('layer-hidden');\n        const visible = visibleAttr === 'true' || visibleAttr === 'checked' || !hiddenClass;\n        \n        // Try to find opacity information - often a slider or numeric value\n        const opacityEl = item.querySelector('.opacity-slider, input[type=\"range\"], .opacity-value');\n        let opacity = 1.0; // Default to full opacity\n        \n        if (opacityEl) {\n          const opacityValue = opacityEl.getAttribute('value') || \n                              opacityEl.getAttribute('aria-valuenow') || \n                              (opacityEl as HTMLInputElement).value;\n          \n          if (opacityValue) {\n            // Normalize to 0-1 range (Earth Engine sometimes uses 0-100)\n            opacity = parseFloat(opacityValue);\n            if (opacity > 1) opacity /= 100;\n          }\n        }\n        \n        // Look for layer type information if available\n        const typeEl = item.querySelector('.layer-type');\n        const type = typeEl ? typeEl.textContent?.trim() : undefined;\n        \n        // Add to layers collection\n        layers.push({\n          id,\n          name,\n          visible,\n          opacity,\n          type,\n          zIndex: index\n        });\n      } catch (itemError) {\n        console.warn(`Error parsing layer item:`, itemError);\n        // Continue with other layers even if one fails\n      }\n    });\n    \n    console.log(`Found ${layers.length} map layers`);\n    sendResponse({\n      success: true,\n      layers\n    });\n  } catch (error) {\n    console.error('Error getting map layers:', error);\n    sendResponse({\n      success: false,\n      error: `Error getting map layers: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Recursively searches for an element with a given aria-ref ID,\n * traversing through open shadow DOMs.\n */\nfunction findElementInNodeRecursive(node: Document | ShadowRoot, refId: string): Element | null {\n  const selector = `[aria-ref=\"${refId}\"]`;\n  let foundElement = node.querySelector(selector);\n\n  if (foundElement) {\n    return foundElement;\n  }\n\n  // If not found in the current node, search in shadow roots of its children\n  const elements = node.querySelectorAll('*');\n  for (const element of Array.from(elements)) {\n    if (element.shadowRoot && element.shadowRoot.mode === 'open') {\n      foundElement = findElementInNodeRecursive(element.shadowRoot, refId);\n      if (foundElement) {\n        return foundElement;\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Handles getting element information by its aria-ref ID\n */\nfunction handleGetElementByRefId(refId: string, sendResponse: (response: any) => void) {\n  try {\n    if (!refId) {\n      sendResponse({\n        success: false,\n        error: 'refId is required'\n      });\n      return;\n    }\n\n    const element = findElementInNodeRecursive(document, refId);\n\n    if (!element) {\n      sendResponse({\n        success: false,\n        error: `No element found with refId: ${refId}`\n      });\n      return;\n    }\n\n    // Logic to extract element details (similar to getElement.ts content script part)\n    const attributesObj: Record<string, string> = {};\n    for (const attr of Array.from(element.attributes)) {\n      attributesObj[attr.name] = attr.value;\n    }\n\n    const style = window.getComputedStyle(element);\n    const isVisible = style.display !== 'none' &&\n                      style.visibility !== 'hidden' &&\n                      style.opacity !== '0';\n\n    let isEnabled = true;\n    if (element instanceof HTMLButtonElement ||\n        element instanceof HTMLInputElement ||\n        element instanceof HTMLSelectElement ||\n        element instanceof HTMLTextAreaElement ||\n        element instanceof HTMLOptionElement) {\n      isEnabled = !element.disabled;\n    }\n\n    const rect = element.getBoundingClientRect();\n    const boundingRect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n\n    let value = undefined;\n    if (element instanceof HTMLInputElement ||\n        element instanceof HTMLTextAreaElement ||\n        element instanceof HTMLSelectElement) {\n      value = (element as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement).value;\n    }\n\n    const elementInfo = {\n      tagName: element.tagName.toLowerCase(),\n      id: element.id || undefined,\n      className: element.className || undefined,\n      textContent: element.textContent ? element.textContent.trim() : undefined,\n      value,\n      attributes: attributesObj,\n      isVisible,\n      isEnabled,\n      boundingRect\n    };\n\n    sendResponse({\n      success: true,\n      elements: [elementInfo], // Return as an array for consistency with getElement\n      count: 1\n    });\n\n  } catch (error) {\n    console.error(`Error in handleGetElementByRefId for refId '${refId}':`, error);\n    sendResponse({\n      success: false,\n      error: `Error getting element by refId: ${error instanceof Error ? error.message : String(error)}`\n    });\n  }\n}\n\n/**\n * Handles executing a click at specific coordinates on the page.\n */\nasync function handleExecuteClickByCoordinates(x: number, y: number, sendResponse: (response: any) => void) {\n  try {\n    console.log(`[Content Script] Attempting to click at coordinates: (${x}, ${y})`);\n    const elementAtPoint = document.elementFromPoint(x, y);\n\n    if (!elementAtPoint) {\n      sendResponse({\n        success: false,\n        error: `No element found at coordinates (${x}, ${y})`\n      });\n      return;\n    }\n\n    console.log(`[Content Script] Element at (${x},${y}):`, elementAtPoint);\n\n    // Create and dispatch mouse events to simulate a click\n    // Standard sequence: pointerdown, mousedown, pointerup, mouseup, click\n    const eventSequence = ['pointerdown', 'mousedown', 'pointerup', 'mouseup', 'click'];\n\n    for (const eventType of eventSequence) {\n      const event = new MouseEvent(eventType, {\n        bubbles: true,\n        cancelable: true,\n        clientX: x,\n        clientY: y,\n        view: window,\n        composed: true // Important for events to cross shadow DOM boundaries if needed\n      });\n      console.log(`[Content Script] Dispatching ${eventType} on`, elementAtPoint);\n      elementAtPoint.dispatchEvent(event);\n    }\n\n    sendResponse({\n      success: true,\n      message: `Successfully simulated click at (${x}, ${y}) on element: ${elementAtPoint.tagName}`\n    });\n\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : String(error);\n    console.error('[Content Script] Error executing click by coordinates:', errorMessage);\n    sendResponse({\n      success: false,\n      error: `Error clicking by coordinates in page: ${errorMessage}`\n    });\n  }\n}\n\nconsole.log('Earth Engine AI Assistant content script fully loaded and listeners attached.'); "],"names":[],"sourceRoot":""}